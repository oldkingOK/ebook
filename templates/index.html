<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>eBook++</title>
    <style>
        body {
            cursor: url('/static/cursor/1.png'), auto;
        }
        .arrow{
            width: 0;
            height: 0;
            border-right: 18px solid #862121;
            border-top: 18px solid transparent;
            border-bottom: 18px solid transparent;
            position: absolute;
            right: 0;
            top: 50%;
            display: block;
        }
        .search{
            width: 500px;
            height: 150px;
            position: fixed;
            bottom: 5px;
            right: 20px;
            z-index: 10;
        }

        .serf{
            height: 100px;
            width: 320px;
            margin: 36px 0 0 150px;
            border: #000000 solid 2px;
            box-sizing: border-box;
            padding-left: 50px;
            background-color: #cccccc;
            display: none;
        }
 
        .search:hover .arrow{
            border-right: 18px solid #ec5b0c;
        }
        body, html {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        html{
            overflow: hidden;
        }
        .background-container {
            background-attachment: fixed;
            position: relative;
            height: 100%;
            background-image: url('/static/YuukaNoa.png'), url('/static/OIP.jpg'); /* 左右图片的 URL */
            background-size: auto 100%, auto 100%; /* 设置两张背景图片的尺寸，宽度为原始宽度，高度为100% */
            background-position: left top, right top; /* 设置两张背景图片的位置 */
            background-repeat: no-repeat; /* 禁止背景图片重复 */
        }
        .content {
            overflow: scroll;
            position: absolute;
            top: 0;
            height: 100%;
            left: 50%; /* 将内容居中 */
            transform: translateX(-50%); /* 水平居中 */
            width: 80%; /* 假设内容占据的宽度为整个页面的80% */
            text-align: left; /* 文字居中 */
            color: #191616; /* 文字颜色 */
            padding: 20px; /* 内边距 */
            background-color: rgba(224, 224, 224, 0.4); /* 背景色，透明度为50% */
        }
    </style>

    <script src="/static/scripts/http_unpkg.com_oh-my-live2d@latest.js"></script>
    <script src="/static/scripts/jquery.min.js"></script>
    <script src="/static/scripts/mouse.min.js"></script>
    <script src="/static/scripts/gotop.js"></script>
    <link rel="stylesheet" href="/static/css/cssgotop.css">
</head>
<body>
<div class="back-to-top cd-top faa-float animated cd-is-visible" style="top: -999px;"></div>
<div class="background-container">
    <div class="search">
        <div class="arrow"></div>
        <div class="serf" >
            <h2 style="margin-bottom: 5px">Search Page</h2>
            <div class="ser">
                <form id="searchForm"  method="GET">
                    <input type="text" id="searchInput" name="query" placeholder="Enter your search term">
                    <button type="submit">Search</button>
                </form>
            </div>
        </div>
    </div>

    <div class="content">
        <div class="ok_content" style="margin: 0 15% 0 15%">
            <h1>E-Book</h1>
        </div>
    </div>
</div>

<script type="text/javascript">
    // 光标 URL 数组
    var cursorUrls = [
        "/static/cursor/1.png",
        "/static/cursor/2.png",
        "/static/cursor/3.png",
        "/static/cursor/4.png",
        "/static/cursor/5.png",
        "/static/cursor/6.png",
        "/static/cursor/7.png",
        "/static/cursor/8.png",
        "/static/cursor/9.png"
    ];
    var currentIndex = 0;

    // 点击事件处理函数
    function changeCursor() {
        // 获取下一个光标 URL
        var nextCursorUrl = cursorUrls[currentIndex];
        // 更新 CSS
        document.body.style.cursor = 'url(' + nextCursorUrl + '), auto';
        // 更新当前索引
        currentIndex = (currentIndex + 1) % cursorUrls.length;
    }

    // 为 body 添加点击事件监听器
    document.body.addEventListener('click', changeCursor);
</script>

<script type="text/javascript">
    $.shuicheMouse({
        type: 11,
        color: "rgba(187,67,128,1)"
    })
</script>

    <script type="text/javascript">
        (function($){
            $.fn.snow = function(options){
                var $flake = $('<div id="snowbox" />').css({'position': 'absolute','z-index':'50', 'top': '-50px', 'user-select': 'none'}).html('❄'),
                    documentHeight  = $(document).height(),
                    documentWidth   = $(document).width(),
                    defaults = {
                        minSize     : 10,
                        maxSize     : 20,
                        newOn       : 1000,
                        flakeColor  : "#e0c0ce" /* 此处可以定义雪花颜色，若要白色可以改为#FFFFFF */
                    },
                    options = $.extend({}, defaults, options);
                var interval= setInterval( function(){
                    var startPositionLeft = Math.random() * documentWidth - 100,
                        startOpacity = 0.5 + Math.random(),
                        sizeFlake = options.minSize + Math.random() * options.maxSize,
                        endPositionTop = documentHeight - 200,
                        endPositionLeft = startPositionLeft - 500 + Math.random() * 500,
                        durationFall = documentHeight * 10 + Math.random() * 5000;
                    $flake.clone().appendTo('body').css({
                        left: startPositionLeft,
                        opacity: startOpacity,
                        'font-size': sizeFlake,
                        color: options.flakeColor
                    }).animate({
                        top: endPositionTop,
                        left: endPositionLeft,
                        opacity: 0.2
                    },durationFall,'linear',function(){
                        $(this).remove()
                    });
                }, options.newOn);
            };
        })(jQuery);
        $(function(){
            $.fn.snow({
                minSize: 5, /* 定义雪花最小尺寸 */
                maxSize: 80,/* 定义雪花最大尺寸 */
                newOn: 200  /* 定义密集程度，数字越小越密集 */
            });
        });
    /* 鼠标特效 */
    var a_idx = 0;
    jQuery(document).ready(function($) {
        $("body").click(function(e) {
            var a = new Array("欲买桂花同载酒","轻盈的风","浮世景色百千年依旧","愿你今晚得享安睡","请随我一同避雨吧","嗯？天晴了吗？","烟花易逝","拾花鸟之一趣","照月风之长路","雪霁银装素","桔高映琼枝","深山踏红叶","耳畔闻鹿鸣","白露与清梦","胧幻与此生","若比君侧时","皆算久长事");
            var $i = $("<span></span>").text(a[a_idx]);
            a_idx = (a_idx + 1) % a.length;
            var x = e.pageX,
                y = e.pageY;
            $i.css({
                "z-index": 30,
                "top": y - 20,
                "left": x,
                "position": "absolute",
                "font-weight": "bold",
                "user-select": "none",
                "color": "rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"
            });
            $("body").append($i);
            $i.animate({
                    "top": y - 180,
                    "opacity": 0
                },
                3000,
                function() {
                    $i.remove();
                });
        });
    });
</script>
<script>

    document.getElementById("searchForm").addEventListener("submit", function(event) {
        // 阻止默认的表单提交行为
        event.preventDefault();
        // 获取搜索框中的输入值
        var searchTerm = document.getElementById("searchInput").value;
        // 如果输入值不为空
        if (searchTerm.trim() !== "") {
            $.get('/?name=' + encodeURIComponent(searchTerm), function(data) {
                $('.ok_content').html(data);
            });
        }
    });

    var searchElement = document.querySelector('.search');
    var serfDiv = document.querySelector(".serf");
    var isComposing = false;

    // 添加鼠标进入事件监听器
    searchElement.addEventListener('mouseover', function() {
        serfDiv.style.display = 'block'; // 当鼠标进入时，设置 .serf 的 display 为 block
    });

    // 添加鼠标离开事件监听器
    searchElement.addEventListener('mouseout', function() {
        // 检查 searchElement 或其内部的任何元素是否是活动元素
        if (!(searchElement.contains(document.activeElement))) {
            serfDiv.style.display = 'none'; // 当鼠标离开且元素没有焦点时，设置 display 为 none
        }
    });

    // 添加点击事件监听器到整个文档
    document.addEventListener('click', function(event) {
        // 检查点击的元素是否是 searchElement 或其内部的任何元素
        if (!searchElement.contains(event.target)) {
            serfDiv.style.display = 'none'; // 当点击的元素不是 searchElement 或其内部的任何元素时，设置 display 为 none
        }
    });

    searchElement.addEventListener("compositionstart", function(event) {
        isComposing = true;
        serfDiv.style.display = "block";
    });
    searchElement.addEventListener("compositionend", function(event) {
        isComposing = false;
    });
</script>

<script>
    OML2D.loadOml2d({
        menus: {
            disable: true
        },
        tips: (_, currentIndex) => {
            return {
                copyTips: {
                    message: ['阿尼亚喜欢这个~']
                },
                welcomeTips: {
                    message: {
                        afternoon: "奥力给给，奥力给给",
                        daybreak: "奥力给给，奥力给给",
                        dusk: "奥力给给，奥力给给",
                        lateNight: "奥力给给，奥力给给",
                        morning: "奥力给给，奥力给给",
                        night: "奥力给给，奥力给给",
                        noon: "奥力给给，奥力给给",
                        weeHours: "奥力给给，奥力给给",
                    }
                },
                idleTips: {
                    message: ["阿尼亚喜欢吃花生", "哇酷哇酷！", "阿尼亚哈哈一拿酷得撒比洗", "奥力给给，奥力给给", "斯邦邦"]
                },
                style: {
                    top: '-30px',
                    'min-height': '60px',
                }
            };
        },
        models: [
            {
                path: '/static/ANIYA-walk/ANIYA.model3.json',
                position: [10, 0],
                scale: 0.06,
                stageStyle: {
                    height: 450
                },
            }
        ]
    });
</script>

</body>
</html>